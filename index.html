<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GTAC VCE301 Student Logbook</title>

    <style>
        body {
            font-family: Figtree, sans-serif;
            margin: 20px; /* Added margin */
            padding: 0;
        }
        .sidebar {
            position: fixed;
            top: 10px;
            right: 10px; /* Changed to top-right corner */
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .sidebar button {
            padding: 10px;
            cursor: pointer;
            background: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
        }
        .container { max-width: 800px; margin: auto; 
        }
        .investigation {
            margin-bottom: 50px;
        }
        .image-container {
            max-width: 100%; height: auto; margin-top: 10px;
        }
        textarea {
            width: 100%;
            height: 100px; 
            margin-top: 10px;
            font-size: 16px; /* Larger text */
        }
    </style>
</head>
<body>
  <div class="sidebar">
        <button onclick="scrollToSection('exp1')">Investigation 1</button>
        <button onclick="scrollToSection('exp2')">Investigation 2</button>
        <button onclick="scrollToSection('exp3')">Investigation 3</button>
    </div>

   <div class="container">
        <p style="text-align: center;"><h1>Applying Biotechnologies to Produce Human Insulin at GTAC </h1></p>

        <h2>    Add your names here:</h2>
        <input type="text" id="studentNames" placeholder="Type your names here" style="width:100%; margin-bottom: 10px;">
        

        <div id="exp1" class="experiment active">
            <h2>Investigation 1: Plasmid Diagnostics</h2>
             <h3>Learning intention: To analyse restriction digest results using DNA gel electrophoresis.</h3>
            <img src="https://cdn.glitch.global/bedc10a6-54ca-4681-bce3-e9149cb53de3/orivsrecombinantplasmidmap?v=1738715311314" alt="Plasmid map comparison" style="width:100%;">
            <h4>  Identify 4 differences between the Original and the Recombinant Plasmid Maps </h4>
                <textarea placeholder="List 4 differences as you compare the Original and the Recombinant Plasmid Maps"></textarea>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Results: Modelling Double digest on plasmids</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        td[contenteditable="true"] {
            background-color: #eaf7ff;
        }
    </style>
</head>
<body>
    <h2>Results: Modelling Double digest on plasmids</h2>
    <table>
        <tr>
            <th>   </th>
            <th colspan="2">Original Plasmid (4641 bp)</th>
            <th colspan="2">Recombinant Plasmid (5428 bp)</th>
        </tr>
        <tr>
            <td>Enzyme pair used for digest:</td>
            <td>Number of fragments</td>
            <td>Sizes of fragments (bp)</td>
            <td>Number of fragments</td>
            <td>Sizes of fragments (bp)</td>
        </tr>
        <tr>
            <td>EcoRV
                <div>
              NheI</div></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td>EcoRV <div>
              XhoI
              </div></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
        </tr>
        <tr>
            <td>NheI <div>
              SmaI
              </div></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
            <td contenteditable="true"></td>
        </tr>
    </table>
</body>
</html>
            <h2>Modelling: Gel Electrophoresis</h2>
              <h4>Insert picture of your predicted eGel results </h4>
            <input type="file" accept="image/*" onchange="addImage(event, 'imageContainer1')">
            <div id="imageContainer1" class="image-container"></div>
            
            <h2>Results: Gel Electrophoresis </h2>
              <h4>Insert picture of the eGel results </h4>
            <input type="file" accept="image/*" onchange="addImage(event, 'imageContainer2')">
            <div id="imageContainer2" class="image-container"></div>
            <h2>Analysis: DNA Gel Electrophoresis results </h2>
              <h4>Identify the tube that contains the recombinant plasmids (Tube 1 or Tube 2?). 
                <div>  Justify your answer. </div> </h4>
                <textarea placeholder="Type your answer here"></textarea></div>

        </div>
        
        <div id="exp2" class="experiment">
            <p style="margin: 20px;">
            <h2>Investigation 2: Bacterial Transformation</h2>
           <h3>Learning intention: To refine a lab protocol to transform bacteria with recombinant plasmids.</h3>
              
              <img src="https://cdn.glitch.global/bedc10a6-54ca-4681-bce3-e9149cb53de3/Investigation2?v=1738727664648" alt="Example Image" style="width:100%;">

              
              <h4>Method:  </h4>
              <h4>Step 1: Making bacteria competent  </h4>

              <img src="https://cdn.glitch.global/bedc10a6-54ca-4681-bce3-e9149cb53de3/competentbacteria?v=1738724782056" alt="Using CaCl2 to make bacteria competent" style="width:100%;">
              
              <img src="https://cdn.glitch.global/bedc10a6-54ca-4681-bce3-e9149cb53de3/Cacl2%20conc%20graph.png?v=1738719272040" alt="CaCl2 graph" style="width:100%;">
              <h5> Use this data to decide the Calcium chloride concentration that you will use with your bacteria </h5>
                <textarea placeholder="Select the concentration of CaCl2 here. Describe why we use Calcium chloride"></textarea>
             
                            <body>     <div class="step">1. Transfer 3-5 <i>E. coli</i> colonies into 250 µL CaCl<sub>2</sub> solution.</div>
    <div class="step">2. Add 100 µL <i>E. coli</i> solution into both -pREC and +pREC tubes.</div>
    <div class="step">3. Place tubes on ice for 20 minutes.</div>
</body>
              
              <h4>Step 2: Heat Shock </h4>
              <img src="https://cdn.glitch.global/bedc10a6-54ca-4681-bce3-e9149cb53de3/heatshock.png?v=1738726774760" alt="Heat Shock" style="width:100%;">

             <h4> Select the temperature and time for heat shock using the data above</h4>

               <textarea placeholder="Type your selected conditions for heat shock here"></textarea>
                            <div> <h5> What is the purpose of heat shock? </h5> </div>  
                <textarea placeholder="Type the purpose of heat shock here"></textarea>
               <h4>Step 3: Recovery  </h4>
          <h5>           Use the data to determine the recovery time for your transformation protocol. </h5>
                 <img src="https://cdn.glitch.global/fcc4e6ca-0f57-4233-b69a-10230c4b69f6/recoverytime?v=1738795693224" alt="Recovery Time graph" style="width:100%;">
          <textarea placeholder="Insert recovery time here"></textarea>
 <body>     <div class="step">Now, add 1mL LB broth at 37<sup>o</sup>C for your selected recovery time under sterile conditions.</div></body>
      
        </p>
        </div>
        
        <div id="exp3" class="experiment">
            <p style="margin: 20px;">
            <h2>Investigation 3: Selecting for Transformed Bacteria</h2>
            <h3>Learning intention: To justify my selection of transformed bacteria for use in insulin production.</h3>   
                <h4>Modelling Activity: What is happening on each growth medium? </h4>
                <h5>Insert an image of your completed modelling activity </h5>
            <input type="file" accept="image/*" onchange="addImage(event, 'imageContainer3')">
            <div id="imageContainer3" class="image-container"></div>
            
             <h4> Results: Fluorescence microscopy              </h4>
            <h5>Insert an image of your expected results </h5>
            <input type="file" accept="image/*" onchange="addImage(event, 'imageContainer4')">
            <div id="imageContainer4" class="image-container"></div>
            
             <div> <h5>What is the purpose of the GFP gene in this transformation experiment? </h5></div>
                <textarea placeholder="Type the purpose of GFP here"></textarea>
                
                <div><h5>What is the purpose of adding arabinose sugar to the growth media (LB/Amp/Ara)? </h5></div>
                <textarea placeholder="Type the purpose of arabinose here"></textarea>
                
              <h3> Discussion:      </h3>
                <h5>Answer the following questions:</h5>
 <body>     <div class="step">1. What is the purpose of transforming bacteria?</div>
    <div class="step">2. How will you know you have transformed bacteria? i.e. What are the expected results?</div>
    <div class="step">3. What are some possible explanations for differences between the results you might see back at schoo? i.e. Limitations and errors?</div>
</body>
                <textarea placeholder="Type your response here"></textarea>

                <h3> Conclusions:      </h3>
                <textarea placeholder="Type your conclusion of the investigation here"></textarea>
        </p>
        </div>
        
        <button onclick="savePageAsPDF()">Save as PDF</button>    
  
    </div>
    
    <script>
        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }
        
        function addImage(event, containerId) {
            const container = document.getElementById(containerId);
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.createElement("img");
                    img.src = e.target.result;
                    img.style.maxWidth = "100%";
                    container.innerHTML = "";
                    container.appendChild(img);
                };
                reader.readAsDataURL(file);
            }
        }
        
        function addImage(event, containerId) {
            const container = document.getElementById(containerId);
            container.innerHTML = ''; // Clear previous images
            Array.from(event.target.files).forEach(file => {
                const img = document.createElement('img');
                img.src = URL.createObjectURL(file);
                container.appendChild(img);
            });
        }
        
        function savePageAsPDF() {
    const studentNames = document.getElementById('studentNames').value;
    if (!studentNames.trim()) {
        alert("Please enter student names.");
        return;
    }

    const today = new Date();
    const date = today.toISOString().split('T')[0];

    // Combine the date with the student names for the file name
    const fileName = `${date}_${studentNames.replace(/\s+/g, '_')}_Report.pdf`;

    // Create a new jsPDF instance
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    doc.html(document.body, {
        callback: function (doc) {
            // Save the PDF with the generated name
            doc.save(fileName);
        },
        margin: [10, 10, 10, 10], 
        // Optional: you can adjust margins
        x: 10, // Optional: adjust content position
        y: 10  // Optional: adjust content position
    });
}
    </script>
</body>
</html>
